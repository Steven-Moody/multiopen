<h1 id="title">Attachments</h1>
<div id="attachments"><p>Loading attachmentsâ€¦</p></div>

<script>
(function () {
  const params = new URLSearchParams(location.search);
  const title = params.get('t') || params.get('title');
  const titleEl = document.getElementById('title');
  if (title) {
    titleEl.textContent = title;          // safe, no HTML
    document.title = title + ' | Attachments';
  }

  const links = params.getAll('u');
  const container = document.getElementById('attachments');
  container.innerHTML = '';
  if (!links.length) {
    container.innerHTML = '<p>No attachments found</p>';
    return;
  }
  links.forEach(u => {
    const a = document.createElement('a');
    a.href = u; a.target = '_blank';
    const img = document.createElement('img');
    img.src = u; img.style.maxWidth = '100%'; img.style.margin = '10px 0';
    a.appendChild(img);
    container.appendChild(a);
  });
})();
</script>
